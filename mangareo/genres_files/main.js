let passiveSupported=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){passiveSupported={passive:!0}}}))}catch(e){}function copyAttributes(e,t){let a=e.attributes;for(let e=0;e<a.length;e++){let n=a[e];t.setAttribute(n.name,n.value)}}function LazyLoadResponsiveImage(e){e.data("small-src")&&$(window).width()<600?(e.attr("src",e.data("small-src")),e.removeAttr("data-src"),e.removeAttr("data-small-src")):e.data("src")&&(e.attr("src",e.data("src")),e.removeAttr("data-src"))}function reloadLazy(e,t){let a=e.clone();e.after(a),e.remove(),a.attr("data-loader",t),a.Lazy(LazyConfig)}function initSpliders(){window.spliders=window.spliders||[],$(".splide").not(".splide--slide").each(function(e,t){window.spliders.push(new Splide(t,{perPage:getSpliderPerPage(t),width:"100%",height:"215px",lazyLoad:"nearby"}).mount())})}function updateSpliders(){for(let e of window.spliders){let t=getSpliderPerPage(e.root);e.options.perPage!==t&&(e.options.perPage=t)}}function getSpliderPerPage(e){let t=[{breakpoint:400,perPage:2},{breakpoint:600,perPage:3},{breakpoint:800,perPage:4},{breakpoint:1/0,perPage:5}],a=$(e).parent().width();a||(a=$(window).width());let n=0;for(let e in t)if(t.hasOwnProperty(e)&&a<t[e].breakpoint){n=t[e].perPage;break}return n||(n=t[t.length-1].perPage),n}passiveSupported&&(jQuery.event.special.touchstart={setup:function(e,t,a){this.addEventListener("touchstart",a,{passive:!0})}},jQuery.event.special.touchmove={setup:function(e,t,a){this.addEventListener("touchmove",a,{passive:!0})}},jQuery.event.special.scroll={setup:function(e,t,a){this.addEventListener("scroll",a,{passive:!0})}}),$(".theme-switch").on("click tap",function(){let e=$("body");e.toggleClass("dark"),$(".theme-switch span").toggleClass("fa-moon").toggleClass("fa-sun").toggleClass("far").toggleClass("fas");let t=new Date;t.setTime(t.getTime()+31536e6),document.cookie="darkTheme="+(e.hasClass("dark")?1:0)+";expires="+t.toUTCString()+";path=/"}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).on("click",".navbar-toggler",function(){window.lazy.force($(".subscriptionsBlockLoader"))}),window.LazyConfig={threshold:3e3,chainable:!1,bind:"event",scrollDirection:"vertical",effect:"show",effectTime:0,visibleOnly:!0,smallImageLoader:function(e,t){LazyLoadResponsiveImage(e),t(!0)},htmlLoader:function(e,t){$.get(e.data("src"),function(a){let n=$(a);n.hide();let o=e.data("name");o&&($("."+o).remove(),n.addClass(o)),e.after(n),n.fadeIn(100),t(!0)})},beforeLoad:function(e){},afterLoad:function(e){$(e).trigger("loaded"),$(e).removeClass("lazy"),$(e).parent().find(".lazy").Lazy(LazyConfig),$(e).find(".preloader").remove()},onError:function(e){"function"==typeof imageFailedToLoad&&imageFailedToLoad(e),$(e).removeClass("lazy")}},$(function(){window.lazy=$(".lazy").Lazy(LazyConfig),$(document).on("loaded",function(e){initSpliders()}).trigger("loaded")}),$(document).on("loaded",".commentsBlockLoader",function(){let e=location.href.match(/comment\=(\d*)/);e&&void 0!==e[1]&&window.setTimeout(function(){let t=e[1];$("html, body").animate({scrollTop:$("#comment-"+t).offset().top-($("#navbar").height()+15)},500)},800)}),function(e){let t=e("#search_box"),a="";t.after('<ul id="result_box" tabindex="0" class="d-none"></ul>');let n=e("#result_box");t.keyup(function(t){let o=e(this).val().trim();if(27===t.keyCode)return e(this).val(""),void n.addClass("d-none");!o||o===a||o.length<3||(a=o,e.getJSON("/search",{q:o},function(e){let t="";for(let a=0;a<e.results.length;a++){let n=e.results[a];n.label=n.label.replace(new RegExp(o,"gi"),function(e){return'<span class="text-danger">'+e+"</span>"}),t+='<li><a href="'+n.link+'"><div class="search-container"><div class="search-image"><img src="'+n.image+'"></div><div class="label">'+n.label+'</div><div class="search-year">'+n.updated+"</div></div></a></li>"}t||(t='<li class="ui-menu-item"><div class="search-container"><div class="label"><h5 class="text-center mt-3">'+e.message+"</h5></div></div></li>"),n.empty().prepend(t),n.removeClass("d-none")}))}),t.on("click tap",function(){let t=e(this).val().trim();!t||t.length<3||n.removeClass("d-none")}),e(document).on("click tap",function(t){let a=e(t.target);a.closest("#result_box").length||a.closest("#search_box").length||n.addClass("d-none")})}(jQuery),$(window).on("orientationchange resize",updateSpliders);